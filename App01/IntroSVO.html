{{ block title }}
Stage 1: Introduction for Allocating Additional Payout
{{ endblock }}

{% block content %}

<!-- Styling for content box -->
<style>
    .my-box {
        border: 1px solid #ccc;
        padding: 10px;
        background-color: #f9f9f9;
    }
</style>

<!-- Load MathJax -->
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<!-- Content Box -->
<div class="my-box">
    <p>
        On the next page, you will find six sliders (as demonstrated below), which ask you how you would prefer to allocate additional payout between yourself and another anonymous person, who will make analogous decisions.
    </p>

        <div style="margin-left: 20px; margin-top: 10px;">
            <ul>
                <li>We refer to this person as <b>the other</b>.</li>
                <li>All of your decisions are completely confidential.</li>
                <li>There are no right or wrong answers, please simply decide according to your personal preferences.</li>
                <li>The additional payout for stage 1 will be the average of all six decisions, made by you and the other.</li>
            </ul>
        </div>

    <!-- Slider image -->
    <div style="text-align: center; margin: 20px 0;">
        <img src="{{ static 'images/scale.jpg' }}" width="90%" alt="Allocation slider example" />
    </div>




    <p>
        In the example, a participant chose to allocate <b>50 ECU</b> to themselves and <b>40 ECU</b> to the other.
        If the other person would allocate 50 ECU to you, you would receive 90 ECU, and the other would receive 85 ECU.

    </p>
</div>

<br>

<div>
    <!-- Countdown-Hinweis -->
    <div id="countdown-container">
        <p>You can proceed in <span id="countdown-timer"></span> seconds.</p>
    </div>

    <!-- Next-Button erst nach Zeit -->
    <div id="next-container" style="display: none;">
        <p>{{ next_button }}</p>
    </div>
</div>

<script>
    const timeout_seconds = 45; // set minimum page time

    document.addEventListener("DOMContentLoaded", function () {
        const countdownEl = document.getElementById("countdown-timer");
        let secondsLeft = timeout_seconds;

        // Initialer Countdown-Text
        countdownEl.textContent = secondsLeft;

        // Countdown aktualisieren jede Sekunde
        const countdownInterval = setInterval(() => {
            secondsLeft -= 1;
            countdownEl.textContent = secondsLeft;

            if (secondsLeft <= 0) {
                clearInterval(countdownInterval);
                document.getElementById("countdown-container").style.display = "none";
                document.getElementById("next-container").style.display = "block";
            }
        }, 1000);
    });

    // Prevent page refresh (F5, Ctrl+R, Reload)
    document.addEventListener("keydown", function (e) {
        if ((e.key === "F5") || (e.ctrlKey && e.key === "r")) {
            e.preventDefault();
        }
    });
</script>

{% endblock %}
