{{ extends 'global/Page.html' }}
{{ block title }} Pre-Study: Payoff Information{{ endblock }}

{{ block content }}

<style>
    .my-box {
        border: 1px solid #ccc;
        padding: 10px;
        background-color: #f9f9f9;
    }
</style>

<div class="my-box">

    Your payoff consists of a <b> (1) fixed </b> and a <b> (2) bonus</b> component. <br/>In addition, we will compensate for your <b> (3) additional waiting time </b> for team formation.
    <br/>Finally, we will compensate you in case a team member <b>(4) drops out</b> after team formation.
       <br/><br/>The payoff scheme is as follows: <br/><br/>
    <ul>
        <b><u>1. Fixed payoff:</u></b>
        <ul>
            <li>If you do <u>not</u> complete the study or drop out at some point, you will receive a fixed payoff of <b>£1.50.</b></li>
            <li>If you complete the study, you will receive a fixed payoff of <b>£4.</b></li>
            <br>
        </ul>

        <b><u>2. Bonus payoff in Stages 1, 2 & 3:</u></b>
        <ul>
             <li>Your bonus in these stages will depend on the decisions you and others made.</li>
             <li>In Stage 1, you can earn a bonus between <b>£2.00</b> and <b>£3.58</b>.
            <li> In Stage 2, you can earn a bonus between <b>£0</b> and <b>£8</b>.</li>
            <li>In Stage 3, you will answer questionnaires about yourself and about the study. </li>
            <li>Completion of Stage 3 is mandatory to receive the fixed payoff of <b>£4</b> in addition to your bonus payoffs in Stages 1 & 2.</li>

            <br>
        </ul>

        <b><u>3. Compensation for waiting time:</u></b>
        <ul>
            <li>After Stage 1, if we are unable to match you within 5 minutes with a team for Stage 2,
                you will have the opportunity to extend the waiting time by 5 additional minutes and be compensated with additional of <b>£0.3 (max. 4 times = £1.2).</b></li>
            <li>If we are unable to match you within 25 minutes, or you decided to not extend the waiting time, you will receive no bonus for Stage 2 and continue with Stage 3.</li>
            <br>
        </ul>

        <b><u>4. Compensation for team member dropout:</u></b>
        <ul>
            <li>If a team forms and somebody else drops out during Stage 2, we <u>can not</u> assign you a bonus for Stage 2.</li>
            <li>In this case, you will receive instead a compensation of <b>£3</b> and continue with Stage 3.</li>
            <br>
        </ul>

        <b><u>Further information about payoff:</u></b>
        <ul>
            <li>Detailed information about the payoff structure in each stage will be provided in subsequent pages.</li>

            <li>We will use the term <b>Experimental Currency Unit (ECU)</b> during the study.  </li>
                        <li>At the end of the study you receive information about your final payoff.</li>
            <li>ECU will be converted into GBP (£): <b>10 ECU = £0.20</b>.</li>

            <li>None of the participants will know how much another participant has been paid.</li>
        </ul>
    </ul>
</div>

<br/>

<div>
    <!-- Countdown-Hinweis -->
    <div id="countdown-container">
        <p style="color: gray; font-style: italic;">You can proceed in <span id="countdown-timer"></span> seconds.</p>
    </div>

    <!-- Next-Button erst nach Zeit -->
    <div id="next-container" style="display: none;">
        <p>{{ next_button }}</p>
    </div>
</div>

<script>
    const timeout_seconds = 30; // adjust timeout here

    document.addEventListener("DOMContentLoaded", function () {
        const countdownEl = document.getElementById("countdown-timer");
        let secondsLeft = timeout_seconds;

        // Initialer Countdown-Text
        countdownEl.textContent = secondsLeft;

        // Countdown aktualisieren jede Sekunde
        const countdownInterval = setInterval(() => {
            secondsLeft -= 1;
            countdownEl.textContent = secondsLeft;

            if (secondsLeft <= 0) {
                clearInterval(countdownInterval);
                document.getElementById("countdown-container").style.display = "none";
                document.getElementById("next-container").style.display = "block";
            }
        }, 1000);
    });

    // Prevent page refresh (F5, Ctrl+R, Reload)
    document.addEventListener("keydown", function (e) {
        if ((e.key === "F5") || (e.ctrlKey && e.key === "r")) {
            e.preventDefault();
        }
    });
</script>

{{ endblock }}
